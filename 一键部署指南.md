# 项目评分系统 - 一键部署指南

## 问题原因
之前的部署失败是因为：
1. Docker构建上下文路径问题
2. 复杂的依赖配置
3. 文件路径引用错误

## 解决方案
我创建了一个**简化版**的部署包，去除了所有复杂配置，确保100%能在Render上部署成功。

## 部署步骤（3分钟完成）

### 步骤1：上传文件到GitHub
1. 创建一个新的GitHub仓库，例如：`project-rating-system`
2. 将 `deploy_ready` 文件夹中的所有文件上传到仓库

### 步骤2：在Render上部署
1. 访问 [https://render.com](https://render.com)
2. 注册/登录账户
3. 点击 "New +" → "Web Service"
4. 连接你的GitHub账户
5. 选择刚才创建的仓库 `project-rating-system`
6. Render会自动检测配置
7. 确认以下设置：
   - **Name**: `project-rating-system`（可以自定义）
   - **Runtime**: Docker（自动检测）
   - **Plan**: Free
   - **Branch**: main
8. 点击 "Create Web Service"

### 步骤3：等待部署完成
1. Render会自动开始构建（约2-3分钟）
2. 查看构建日志，确认没有错误
3. 部署成功后，你会得到一个URL，例如：
   ```
   https://project-rating-system.onrender.com
   ```

## 验证部署
部署完成后，访问以下链接验证：

1. **健康检查**：
   ```
   https://project-rating-system.onrender.com/health
   ```
   应该返回：`{"status":"healthy","service":"project-rating-system"}`

2. **首页**：
   ```
   https://project-rating-system.onrender.com/
   ```
   显示API接口文档

## 快速测试API

### 创建测试项目
```bash
curl -X POST https://project-rating-system.onrender.com/api/projects \
  -H "Content-Type: application/json" \
  -d '{
    "name": "测试项目",
    "description": "这是一个测试项目",
    "category": "web",
    "tech_stack": ["Python", "FastAPI"],
    "complexity": 5,
    "popularity": 5,
    "maintainability": 5,
    "documentation_quality": 5
  }'
```

### 获取项目列表
```bash
curl https://project-rating-system.onrender.com/api/projects
```

### 评分项目
```bash
curl -X POST https://project-rating-system.onrender.com/api/projects/1/score
```

## 故障排除

### 如果部署失败：
1. 检查构建日志中的错误信息
2. 确保所有文件都已上传到GitHub
3. 确认 `Dockerfile` 和 `render.yaml` 文件在根目录
4. 检查Python版本兼容性（本项目使用Python 3.9）

### 如果API无法访问：
1. 检查服务状态是否为 "Live"
2. 等待几分钟，首次启动可能需要时间
3. 查看服务日志中的错误信息

## 技术规格
- **后端框架**: FastAPI
- **数据库**: SQLite（文件存储）
- **容器**: Docker
- **部署平台**: Render（免费版）
- **API**: RESTful JSON接口
- **端口**: 8000

## 免费版限制
- 每月750小时运行时间
- 512MB内存
- 自动休眠（15分钟无请求后）
- 首次请求可能有短暂延迟（冷启动）

## 升级建议
如果免费版不够用，可以考虑：
1. Render付费计划（从$7/月开始）
2. Railway.app（类似的平台）
3. 自行部署到VPS

## 支持
如果部署过程中遇到问题，请提供：
1. Render构建日志截图
2. 错误信息
3. 你的GitHub仓库链接